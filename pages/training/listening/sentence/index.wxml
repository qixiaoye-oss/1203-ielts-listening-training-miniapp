<import src="/templates/loading-progress.wxml" />
<template is="loadingProgress" data="{{loading, loadProgress}}" />
<scroll-view class="base_view" scroll-y scroll-into-view="{{scrollIntoId}}" scroll-with-animation>
  <view class="layout_grid">
    <block wx:for="{{list}}" wx:key="id" wx:for-item="item" wx:for-index="idx">
      <view id="ID{{item.id}}" class="list_container {{item.status == 0?'list_undone':''}}  {{scrollIntoId === 'ID'+item.id ? 'select' : ''}}">
        <view class="listening_header ">
          <view class="list_index">{{idx+1}}/{{list.length}}</view>
          <view wx:if="{{item.status == 1}}"></view>
          <view wx:if="{{item.status == 0}}">未收听</view>
        </view>
        <view class="listening_content">
          <view class="listening_content_text">
            <text wx:for="{{item.list}}" wx:key="index" wx:for-item="citem">{{citem.content}}</text>
          </view>
          <view class="chinese">{{item.chinese}}</view>
        </view>
        <view style="display: flex;align-items: center;justify-content: flex-end;">
          <view class="btn-action-icon " wx:if="{{item.label}}">
            <image class="label_flag" src="/images/v2/flag.png"></image>
          </view>
          <view class="btn-action-icon btn--audio" hover-class="tap-active" hover-stay-time="100">
            <image src="/images/v2/pause.png" wx:if="{{item.audioPlay =='play'}}"></image>
            <image src="/images/v2/play.png" wx:else bindtap="playAudio" data-idx="{{idx}}"></image>
          </view>
          <view class="btn-action-icon btn--audio" bindtap="toDetail" data-idx="{{idx}}" hover-class="tap-active" hover-stay-time="100">
            <image src="/images/v2/goto.png"></image>
          </view>
        </view>
      </view>
    </block>
  </view>
</scroll-view>