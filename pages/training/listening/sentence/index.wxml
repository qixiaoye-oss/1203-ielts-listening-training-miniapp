<import src="/templates/page-loading.wxml" />
<template is="pageLoading" data="{{loading, loadProgress}}" />
<wxs src="/utils/util.wxs" module="wxsUtil" />
<scroll-view class="base_view" scroll-y scroll-into-view="{{scrollIntoId}}" scroll-with-animation>
  <view class="layout_grid">
    <block wx:for="{{list}}" wx:key="id" wx:for-item="item" wx:for-index="idx">
      <view id="ID{{item.id}}" class="list_container {{item.status == 0?'list_undone':''}}  {{scrollIntoId === 'ID'+item.id ? 'select' : ''}}">
        <view class="listening_header ">
          <view class="list_index">{{idx+1}}/{{list.length}}</view>
          <view wx:if="{{item.status == 1}}"></view>
          <view wx:if="{{item.status == 0}}">未收听</view>
        </view>
        <view class="listening_content">
          <sentence-block
            list="{{item.list}}"
            translate="{{wxsUtil.getTranslate(item)}}"
          />
        </view>
        <view style="display: flex;align-items: center;justify-content: flex-end;">
          <view class="btn-action-icon " wx:if="{{item.label}}">
            <image class="label_flag" src="/images/v2/flag_bt.png"></image>
          </view>
          <view class="btn-action-icon" data-icon="play" hover-class="tap-active" hover-stay-time="100">
            <image src="/images/v2/pause_bt.png" wx:if="{{item.audioPlay =='play'}}"></image>
            <image src="/images/v2/play_bt.png" wx:else bindtap="playAudio" data-idx="{{idx}}"></image>
          </view>
          <view class="btn-action-icon" data-icon="goto" bindtap="toDetail" data-idx="{{idx}}" hover-class="tap-active" hover-stay-time="100">
            <image src="/images/v2/goto_bt.png"></image>
          </view>
        </view>
      </view>
    </block>
  </view>
</scroll-view>