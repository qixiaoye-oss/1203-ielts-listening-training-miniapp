<wxs src="/utils/util.wxs" module="wxsUtil" />
<view class="label-list-base-container">
  <scroll-view scroll-y class="label-list-container" enhanced enable-flex show-scrollbar="{{false}}">
    <view class="label-item-cell" wx:for="{{list}}" wx:key="item">
      <view class="big-sentence-cell {{item.active ? 'active' : ''}}" wx:if="{{item.hidden == 0 || showHidden}}">
        <view class="sentence__content">
          <view class="tag tag--transparent">原文</view>
          <view class="{{item.show?'':'hidden-text'}}">
            <text user-select="{{true}}">
              <text wx:for="{{item.list}}" wx:for-item="smll" wx:key="smll" wx:for-index='smlli' data-pidx="{{index}}" data-cidx="{{smlli}}" bindtap="listenSentenceAgain" class="sentence-text {{(nowPalySmallAudio == smlli && nowPlayAudio == index)? 'sentence-text-active':''}}">{{smll.content}}<text class="narrator {{smll.narratorSex == '1'?'narrator-man':'narrator-woman'}}" wx:if="{{smll.narrator}}">{{smll.narrator}}</text></text>
            </text>
          </view>
        </view>
        <view class="my__label">
          <view class="answer-cell" bind:tap="toEditPage" data-item="{{item}}">
            <view class="answer-title">我的听写</view>
            <view class="{{!item.show ? 'hidden__':''}}">
              <view class="label-content-cell {{!item.show ? 'hidden_':''}}">
                <rich-text nodes="{{item.content}}"></rich-text>
              </view>
            </view>
            <view class="edit-but">点击开始订正</view>
          </view>
        </view>
        <!-- 功能按钮区域 -->
        <view class="buts-cell">
          <view class="state but-warning warning-bg" wx:if="{{item.status === '2'}}">需要再次复习</view>
          <view class="state but-success success-bg" wx:if="{{item.status === '1'}}">有效复习</view>
          <view class="btn-action-icon btn--audio" bind:tap="playAudio" data-index="{{index}}" hover-class="tap-active" hover-stay-time="100">
            <image src="/images/v2/pause.png" data-value="pause" wx:if="{{nowPlayAudio == index}}"></image>
            <image src="/images/v2/play.png" data-value="play" wx:else></image>
          </view>
          <view class="btn-action-icon btn--setting" bindtap="operation" data-index="{{index}}" data-hidden="{{item.hidden}}" hover-class="tap-active" hover-stay-time="100">
            <image src="/images/v2/setting.png"></image>
          </view>
          <view class="btn-action-icon btn--visible" bindtap="showContent" data-index="{{index}}" hover-class="tap-active" hover-stay-time="100">
            <image src="/images/v2/visible.png" wx:if="{{item.show}}"></image>
            <image src="/images/v2/hidden.png" wx:else></image>
          </view>
        </view>
      </view>
      <!-- 复习按钮区域 -->
      <view class="again-buts-cell" bind:tap="againButChange" data-index="{{index}}" wx:if="{{item.againFun}}">
        <view class="again-but flex_row_cen but-warning {{item.status === '2'?'but-animation warning-bg':''}}" data-value="2">需要再次复习</view>
        <view class="again-but flex_row_cen but-success {{item.status === '1'?'but-animation success-bg':''}}" data-value="1">无需再次复习</view>
      </view>
      <view style="height: 15px;"></view>
    </view>
  </scroll-view>
</view>
